<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reportes y Estad√≠sticas - Sistema de Consejer√≠a</title>
    <link rel="stylesheet" href="../css/styles.css">
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-brand">
                <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M12 2L2 7v10c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V7l-10-5z"/>
                </svg>
                <span>Sistema de Consejer√≠a</span>
            </div>
            <div class="nav-menu">
                <a href="dashboard.html" class="btn btn-outline">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M19 12H5M12 19l-7-7 7-7"/>
                    </svg>
                    Volver al Panel
                </a>
            </div>
        </div>
    </nav>

    <div class="container">
        <div class="reports-container">
            <div class="reports-header">
                <h1>üìä Reportes y Estad√≠sticas</h1>
                <p>An√°lisis detallado de las atenciones de consejer√≠a y tutor√≠a</p>
            </div>

            <!-- Filtros de Reporte -->
            <div class="report-section">
                <h2>Filtros de Reporte</h2>
                <div class="filters-grid">
                    <div class="filter-group">
                        <label for="reportFilterTipo">Tipo de Reporte:</label>
                        <select id="reportFilterTipo" class="form-control">
                            <option value="general">General</option>
                            <option value="fechas">Por Rango de Fechas</option>
                            <option value="ciclo">Por Ciclo Acad√©mico</option>
                            <option value="mes">Por Mes</option>
                            <option value="tipoCita">Por Tipo de Cita</option>
                        </select>
                    </div>

                    <!-- Filtros de fecha -->
                    <div id="filtroFechas" style="display: none;">
                        <div class="form-row">
                            <div class="filter-group">
                                <label for="fechaInicio">Fecha Inicio:</label>
                                <input type="date" id="fechaInicio" class="form-control">
                            </div>
                            <div class="filter-group">
                                <label for="fechaFin">Fecha Fin:</label>
                                <input type="date" id="fechaFin" class="form-control">
                            </div>
                        </div>
                    </div>

                    <!-- Filtro de ciclo -->
                    <div id="filtroCiclo" class="filter-group" style="display: none;">
                        <label for="cicloSelect">Ciclo Acad√©mico:</label>
                        <select id="cicloSelect" class="form-control">
                            <option value="">Todos</option>
                        </select>
                    </div>

                    <!-- Filtro de mes -->
                    <div id="filtroMes" style="display: none;">
                        <div class="form-row">
                            <div class="filter-group">
                                <label for="mesSelect">Mes:</label>
                                <select id="mesSelect" class="form-control">
                                    <option value="">Seleccione...</option>
                                    <option value="01">Enero</option>
                                    <option value="02">Febrero</option>
                                    <option value="03">Marzo</option>
                                    <option value="04">Abril</option>
                                    <option value="05">Mayo</option>
                                    <option value="06">Junio</option>
                                    <option value="07">Julio</option>
                                    <option value="08">Agosto</option>
                                    <option value="09">Septiembre</option>
                                    <option value="10">Octubre</option>
                                    <option value="11">Noviembre</option>
                                    <option value="12">Diciembre</option>
                                </select>
                            </div>
                            <div class="filter-group">
                                <label for="anioSelect">A√±o:</label>
                                <select id="anioSelect" class="form-control">
                                    <option value="2025">2025</option>
                                    <option value="2024">2024</option>
                                    <option value="2023">2023</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <!-- Filtro de tipo de cita -->
                    <div id="filtroTipoCita" class="filter-group" style="display: none;">
                        <label for="tipoCitaSelect">Tipo de Cita:</label>
                        <select id="tipoCitaSelect" class="form-control">
                            <option value="">Todos</option>
                        </select>
                    </div>

                    <div class="filter-group">
                        <button id="btnAplicarFiltro" class="btn btn-primary btn-block">Aplicar Filtro</button>
                    </div>
                </div>
            </div>

            <!-- Resumen General -->
            <div class="report-section">
                <h2>Resumen General</h2>
                <div class="stats-grid">
                    <div class="stat-card highlight">
                        <div class="stat-icon">üìã</div>
                        <div class="stat-content">
                            <h3 id="reportTotalAtenciones">0</h3>
                            <p>Total de Atenciones</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">üìÖ</div>
                        <div class="stat-content">
                            <h3 id="reportTotalSemestres">0</h3>
                            <p>Semestres Registrados</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">üë®‚Äçüè´</div>
                        <div class="stat-content">
                            <h3 id="reportTotalDocentes">0</h3>
                            <p>Docentes Activos</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">üë®‚Äçüéì</div>
                        <div class="stat-content">
                            <h3 id="reportTotalEstudiantes">0</h3>
                            <p>Estudiantes Atendidos</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Atenciones por Semestre -->
            <div class="report-section">
                <h2>Atenciones por Semestre</h2>
                <div class="table-responsive">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Semestre</th>
                                <th>Total Atenciones</th>
                                <th>Porcentaje</th>
                            </tr>
                        </thead>
                        <tbody id="reportSemestreTable">
                            <tr>
                                <td colspan="3" class="text-center">Cargando datos...</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Atenciones por Docente -->
            <div class="report-section">
                <h2>Atenciones por Docente</h2>
                <div class="table-responsive">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Docente</th>
                                <th>Total Atenciones</th>
                                <th>Porcentaje</th>
                            </tr>
                        </thead>
                        <tbody id="reportDocenteTable">
                            <tr>
                                <td colspan="3" class="text-center">Cargando datos...</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Atenciones por Tema -->
            <div class="report-section">
                <h2>Atenciones por Tema de Consejer√≠a</h2>
                <div class="table-responsive">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Tema</th>
                                <th>Total Atenciones</th>
                                <th>Porcentaje</th>
                            </tr>
                        </thead>
                        <tbody id="reportTemaTable">
                            <tr>
                                <td colspan="3" class="text-center">Cargando datos...</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Distribuci√≥n Visual -->
            <div class="report-section">
                <h2>Distribuci√≥n de Temas</h2>
                <div class="chart-container" id="temaChartContainer">
                    <!-- Se generar√° din√°micamente -->
                </div>
            </div>

            <!-- Reporte por Fechas -->
            <div class="report-section" id="reporteFechas" style="display: none;">
                <h2>üìÖ Reporte por Rango de Fechas</h2>
                <div id="fechasResumen"></div>
                <div class="table-responsive">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Fecha</th>
                                <th>Total Atenciones</th>
                                <th>Porcentaje</th>
                            </tr>
                        </thead>
                        <tbody id="reportFechasTable"></tbody>
                    </table>
                </div>
            </div>

            <!-- Reporte por Mes -->
            <div class="report-section" id="reporteMes" style="display: none;">
                <h2>üìÜ Reporte Mensual</h2>
                <div id="mesResumen"></div>
                <div class="chart-container" id="mesChartContainer"></div>
            </div>

            <div class="report-actions">
                <button id="btnExport" class="btn btn-primary">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                        <polyline points="7 10 12 15 17 10"/>
                        <line x1="12" y1="15" x2="12" y2="3"/>
                    </svg>
                    Exportar Reporte
                </button>
                <button id="btnPrint" class="btn btn-secondary">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="6 9 6 2 18 2 18 9"/>
                        <path d="M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"/>
                        <rect x="6" y="14" width="12" height="8"/>
                    </svg>
                    Imprimir
                </button>
            </div>
        </div>
    </div>

    <script type="module" src="../js/reportes.js"></script>
</body>
</html>
